<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<html>
<head>
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script type="text/javascript"
	src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
    	  //alert("function");
    	  $.ajax({
				url : "jsonResponse6",
				dataType : "json",
				success : function(list) {
					alert(list[0].doing + " " + list[0].time)
					//2차원 배열--> 3개
					var data = new Array(list.length);
				    var header = ["Task", "hours"];
				    data[0] = header
					for(i = 0; i <= list.length; i++){
						    one = new Array(2);
							one[0] = list[i].doing;
							one[1] = list[i].time;
							data[i] = one;
					}
			        var data = google.visualization.arrayToDataTable(data);
			         /*  ['Task', 'Hours per Day'],
			          [array[0].doing, array[0].time],
			          [array[1].doing, array[1].time],
			          [array[2].doing, array[2].time], */
			
			        var options = {
			          title: 'My Daily Activities'
			        };
			
			        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
			
			        chart.draw(data, options);
			}//success
    	  })//ajax
		}//function
    </script>
</head>
<body>
	<div id="piechart" style="width: 900px; height: 500px;"></div>
</body>
</html>
